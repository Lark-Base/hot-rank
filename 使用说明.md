# 亚马逊产品抓取插件使用说明

## 概述
这是一个专为 Lark Base（飞书多维表格）设计的边栏插件，用于抓取亚马逊产品数据并自动创建多维表格。

## 环境要求
- 必须在 Lark Base 环境中运行
- 需要表格读写权限
- 支持的亚马逊站点：.com, .sg, .co.uk, .de, .fr, .it, .es, .ca, .au, .in, .jp

## 功能特性
- 🔍 支持亚马逊产品页面和分类页面抓取
- 📊 自动创建包含14个字段的产品数据表
- 🎯 可配置抓取数量（20-200个产品）
- 📈 实时进度显示和调试信息
- 🔄 支持多站点数据抓取

## 数据字段
插件会自动创建包含以下字段的表格：
- 产品ID
- 产品标题
- 价格
- 原价
- 折扣
- 评分
- 评论数
- 产品图片
- 产品链接
- 产品描述
- 品牌
- 分类
- 库存状态
- 排名

## 使用步骤

### 1. 在 Lark Base 中安装插件
1. 打开 Lark Base（飞书多维表格）
2. 点击右上角的「插件」按钮
3. 选择「添加插件」→「自定义插件」
4. 上传插件文件或输入插件地址

### 2. 使用插件抓取数据
1. 在插件界面中输入亚马逊产品页面或分类页面URL
2. 选择要抓取的产品数量（默认50个）
3. 点击「开始抓取」按钮
4. 等待抓取完成，插件会自动创建新的数据表

### 3. 查看结果
- 抓取完成后会自动创建以日期命名的新表格
- 表格名称格式：`亚马逊产品数据_{站点}_{日期}`
- 可以在调试面板中查看详细的抓取日志

## 支持的URL格式

### 产品页面
```
https://www.amazon.com/dp/B08N5WRWNW
https://www.amazon.sg/gp/product/B08N5WRWNW
```

### 分类页面
```
https://www.amazon.com/s?k=wireless+headphones
https://www.amazon.sg/gp/bestsellers/electronics
```

### 最佳销售页面
```
https://www.amazon.com/gp/bestsellers/fashion/6833566051
```

## 故障排除

### 环境检查
如果看到「非 Lark Base 环境，功能受限」的警告：
- 确保在 Lark Base 中运行插件
- 检查浏览器是否支持插件功能
- 尝试刷新页面重新加载插件

### 权限问题
如果遇到「创建数据表失败，请检查权限设置」错误：
- 确保有表格创建权限
- 检查是否有字段添加权限
- 联系管理员获取必要权限

### 抓取失败
如果抓取过程中出现错误：
- 检查URL是否正确
- 确认网络连接正常
- 查看调试面板中的详细错误信息
- 尝试减少抓取数量

## 技术说明

### 当前限制
- 由于CORS限制，当前版本使用模拟数据
- 生产环境需要配置后端代理或使用第三方API
- 建议使用Puppeteer或类似工具进行实际抓取

### 开发环境
- 基于 TypeScript + Vite 构建
- 使用 Lark Base JS SDK
- 支持热重载开发

## 更新日志

### v1.0.0
- 初始版本发布
- 支持基本的亚马逊产品抓取功能
- 自动表格创建和数据写入
- 环境检查和错误处理

## 联系支持
如有问题或建议，请联系开发团队。